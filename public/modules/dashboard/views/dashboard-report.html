<div ng-show="report">
    <div class="row-fluid">
        <div class="col-md-12">
            <h3 class="pull-left">
                {{ 'DASHBOARD_REPORT_TITLE' | translate: {title:report.title} }}
            </h3>
            <div class="pull-left" style="padding:10px 20px;">
                <em class="control-label text-muted" >
                    Created on
                    <span data-ng-bind="report.created | date:'mediumDate'"></span>
                    by
                    <span data-ng-bind="report.user.displayName"></span>
                </em>
            </div>
        </div>
    </div>



    <div class="row-fluid">
        <div class="col-md-12 bg-info menu">
            <a class="pull-left btn btn-success" data-ui-sref="wpt.edit({wptId:report._id})">
                <i class="fa fa-edit"></i>
                {{ 'ACTION_OPEN_REPORT' | translate}}
            </a>
            <a class="pull-left btn btn-success" ng-click="openShareReportDialog()">{{ 'MENU_SHAREREPORT' | translate}}</a>

            <!--a class="pull-left btn btn-primary" data-ng-click="openShareDialog();">
                {{ 'ACTION_SHARE' | translate}}
            </a-->
            <a class="pull-right btn btn-danger" data-ng-click="remove();" data-ng-show="authentication.user._id == report.user._id">
                <i class="fa fa-trash"></i>
                {{ 'ACTION_DELETE' | translate}}
            </a>
        </div>

    </div>


    <div class="row-fluid">
        <div class="col-md-12">
            <div style="height:20px;"></div>
        </div>
        <div class="col-md-6">
            <form class="form" data-ng-submit="update()" novalidate>
                <fieldset>
                    <div class="form-group">
                        <label>{{ 'REPORT_TITLE' | translate}}</label>
                        <input type="text" data-ng-model="report.title" class="form-control"required>
                    </div>
                    <div class="form-group">
                        <label>{{ 'REPORT_DESCRIPTION' | translate}}</label>
                        <input type="text" data-ng-model="report.description" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <input type="checkbox" data-ng-model="report.archived" class="pull-left">
                        <label>{{ 'REPORT_ARCHIVED' | translate}}</label>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-default">{{'ACTION_UPDATE' | translate }}</button>
                    </div>
                    <div data-ng-show="error" class="text-danger">
                        <strong data-ng-bind="error"></strong>
                    </div>
                </fieldset>
            </form>

            <!--form class="form" data-ng-submit="update()" novalidate>
                <fieldset>
                    <div class="form-group">
                        <label>{{ 'REPORT_URL' | translate}}</label>
                        <input type="text" data-ng-model="reportUrl" class="form-control"required>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-default">{{'ACTION_UPDATE' | translate }}</button>
                    </div>
                </fieldset>
            </form-->
        </div>
    
        <div class="col-md-6">
            <label>
                <i class="fa fa-comment"></i>
                {{'COMMENT_TITLE' | translate }}
            </label>
            <div commentable="report"
                 commentable-type="wpt"
                 src="'/wpts/comments?wptId='"
                 obj-id="currentReportId()"
                 user="authentication.user"
            ></div>
        </div>
    </div>
</div>

<div ng-hide="reportGetting || report">
    <div class="containBox">
        <h1 >This report has been deleted.</h1>
    </div>
</div>
