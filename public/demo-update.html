<!DOCTYPE HTML>
<html>
<head>
    <title>Test</title>

    <style type="text/css">
        html, body, #wpt-container {width:100%;height:100%;}
    </style>

    <link rel='stylesheet' href='brightsea/wpt/wpt.css'>

    <script type="text/javascript" src="lib/filepicker/index.js"></script>
    <script type="text/javascript" src="lib/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="lib/highcharts-release/highcharts.js"></script>
    <script type="text/javascript" src="lib/highcharts-release/highcharts-3d.js"></script>
    <script type="text/javascript" src="lib/highcharts-release/highcharts-more.js"></script>
    <script type="text/javascript" src="lib/grouped_categories/grouped-categories.js"></script>
    <script type="text/javascript" src="lib/jszip/dist/jszip.min.js"></script>
    <script type="text/javascript" src="lib/js-xlsx/dist/ods.js"></script>
    <script type="text/javascript" src="lib/js-xlsx/dist/xlsx.min.js"></script>

    <script type="text/javascript" src="brightsea/wpt/wpt.js"  data-dojo-config="async:1, baseUrl: 'brightsea/dojo/'"></script>

    <script type="text/javascript">
        require(["wpt/WebPivotTable","dojo/domReady!"], function(WebPivotTable){
            var wpt = new WebPivotTable({
            },"wpt-container");

            var wptOptionsOnly = '{"format":"WPT","version":"2.0","sources":[{"id":1,"name":"Source1","mode":"MEMORY","format":"CSV","url":"/json/example.csv","data":[],"fields":[]}],"sheets":[{"id":1,"name":"Sheet1","sourceId":1,"fields":[{"id":0,"name":"0","label":"VOTER","type":"NUMBER"},{"id":1,"name":"1","label":"PARTY","type":"STRING"},{"id":2,"name":"2","label":"PRECINCT","type":"NUMBER"},{"id":3,"name":"3","label":"AGE GROUP","type":"STRING"},{"id":4,"name":"4","label":"LAST VOTED","type":"STRING"},{"id":5,"name":"5","label":"YEARS REG","type":"NUMBER"},{"id":6,"name":"6","label":"BALLOT STATUS","type":"STRING"}],"rows":[1],"cols":[],"filters":[],"values":[{"id":1,"label":"Sum of PRECINCT","fieldIndex":2,"stats":"SUM","format":{}}],"valuesInAxis":-1,"valuesIndex":-1,"sheetOptions":{"chartFirst":0,"pivotLayout":"1","expandRows":1,"expandCols":1,"nonEmpty":1,"mdx":""},"gridOptions":{"showSigns":1,"showRowTotals":1,"showColTotals":1,"showRowSubtotals":1,"showColSubtotals":1,"compactForm":1,"rowHeaderWidth":200,"cellWidth":100,"cellHeight":25,"theme":"wpt-default"},"chartOptions":{"width":500,"height":300,"high":{"theme":"default","chart":{"type":"column","options3d":{"enabled":false,"alpha":15,"beta":15,"depth":50,"viewDistance":25}},"credits":{"enabled":false},"exporting":{"enabled":false},"navigation":{"buttonOptions":{"align":"right","verticalAlign":"top"}},"legend":{"enabled":true,"floating":false,"layout":"vertical","align":"right","verticalAlign":"middle","reversed":false},"tooltip":{"enabled":true,"shadow":true},"plotOptions":{"series":{"stacking":null}},"xAxis":{"labels":{"enabled":true,"align":"left","rotation":45}}}}}],"reports":[],"view":"PIVOTTABLE"}';

            var wptObject=JSON.parse(wptOptionsOnly);
            wpt.setCsvUrl("/json/example.csv", ",", wptObject);

        });
    </script>

</head>

<body class="claro">
<div id="wpt-container"></div>
</body>
</html>